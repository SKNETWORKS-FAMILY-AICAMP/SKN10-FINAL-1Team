{% extends 'base/base.html' %}
{% load static %}
{% block css %}<link rel="stylesheet" href="{% static 'css/base.css' %}"> {% endblock %}
{% block title %}<title>Trace Hub</title>{% endblock %}    
{% block content %}
<div class="sidebar">
    <div class="sidebar-header">
        <span>Trace Hub</span>
        {% if request.user.is_authenticated %}
        <img src="{{ image }}" alt="GitHub 프로필 사진" width="25" height="25" style="border-radius: 50%;">
        {{username}}
        <button class="connect-button" 
                onclick="location.href='{% url 'logout' %}'">Logout</button>
        {% else %}
        <!-- 로그아웃 상태 -->
        <button class="connect-button" 
                onclick="location.href='{% url 'login' %}'">Login</button>
        {% endif %}
    </div>
    <div class="github-connect">
        <img src="https://cdn-icons-png.flaticon.com/512/25/25231.png" alt="GitHub Logo" width="40" />
        <p style="margin: 12px 0;">Connect your GitHub</p>
        <button onclick="location.href='{% url 'login' %}'">Connect GitHub Account</button>
    </div>
</div>

<div class="main-content">
    <h2>Welcome to GitHub History Chatbot!</h2>
    <p>
        Select a repository from the sidebar to start asking questions<br/>
        about your code, or use the general chat to query across all<br/>
        your synced projects.
    </p>
    <div class="instructions">
        <strong>Getting Started:</strong>
        <ol>
        <li>Connect your GitHub account using the button in the sidebar.</li>
        <li>Sync your repositories (manual or automatic).</li>
        <li>Wait for the initial analysis to complete (status shown in sidebar).</li>
        <li>Select a repository or start a general chat (default after login).</li>
        </ol>
    </div>
</div>
{% endblock %}